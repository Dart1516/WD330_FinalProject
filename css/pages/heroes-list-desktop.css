/* =========================================================
   1) IMPORTS
   ========================================================= */
@import url('../variables.css');
@import url('../components/emblem-bar.css');
@import url('../pages/heroes-list-mobile.css');

/* =========================================================
   2) FILTERS BAR (LAYOUT + BEHAVIOR)
   ========================================================= */
@media (min-width: 880px) {
  /* --- Filters grid layout --- */
  .filters__row {
    align-items: center;
    column-gap: 12px;
    grid-template-columns:
      minmax(0, 1fr)        /* emblem bar */
      minmax(260px, 34vw)   /* search + clear */
      auto;                 /* count */
  }

  /* Prevent overflow of children in grid */
  .filters__row > * { min-width: 0; }
  #emblem-bar { min-width: 0; }
  .filters__search { min-width: 0; }

  /* --- Search container --- */
  .filters__search {
    justify-self: end;
    width: clamp(280px, 36vw, 520px);
  }

  /* Input fills the full width */
  .filters__search .search-input {
    width: 100%;
  }

  /* --- Counter --- */
  .filters__count {
    justify-self: end;
    white-space: nowrap;
  }
}

/* =========================================================
   3) FILTERS MID-RANGE FIX (Avoid overflow around 1230px)
   ========================================================= */
@media (min-width: 880px) and (max-width: 1320px) {
  .filters__search {
    width: clamp(260px, 30vw, 480px);
  }
}

/* =========================================================
   4) GRID & CARD BEHAVIOR (DESKTOP)
   ========================================================= */

/* Hover animation (desktop only) */
@media (hover: hover) and (pointer: fine) {
  .card:hover {
    box-shadow: 0 14px 40px rgba(0, 0, 0, 0.45);
    transform: translateY(-2px) scale(1.02);
    transition:
      box-shadow 160ms ease-out,
      transform 160ms cubic-bezier(.22, .61, .36, 1);
  }
}

/* Grid layout for wide screens */
@media (min-width: 1200px) {
  .grid {
    grid-template-columns: repeat(6, minmax(0, 1fr));
  }
}

/* =========================================================
   5) POPOVER (DESKTOP QUICK VIEW)
   ========================================================= */
.popover {
  background: rgba(17, 22, 52, 0.98);
  border: 1px solid var(--border-color-light);
  border-radius: 12px;
  box-shadow: 0 14px 40px rgba(0, 0, 0, 0.55);
  color: var(--color-text-main);
  max-width: 280px;
  min-width: 220px;
  opacity: 0;
  padding: 10px 12px;
  pointer-events: none;
  position: absolute;
  transform: translateY(8px);
  transition: opacity 140ms ease-out, transform 140ms ease-out;
  z-index: 50;
}

.popover[data-open="true"] {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
}

.popover .title {
  font-weight: 600;
  margin: 0 0 4px;
}

.popover .meta {
  align-items: center;
  color: var(--color-text-muted);
  display: flex;
  gap: 8px;
  margin-bottom: 6px;
  font-size: 12px;
}

.popover .desc {
  color: var(--color-text-main);
  font-size: 13px;
}
